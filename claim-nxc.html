<!DOCTYPE html>
<html lang="zh-Hant">
  <head>
    <meta charset="UTF-8" />
    <title>èªè³¼ NeoX Token</title>
    <script src="https://cdn.jsdelivr.net/npm/@thirdweb-dev/sdk@latest/dist/thirdweb.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
    <style>
      body {
        background: #0f0f1a;
        color: #ffffff;
        font-family: Arial, sans-serif;
        text-align: center;
        padding: 3em 1em;
      }
      input {
        padding: 0.5em;
        font-size: 1em;
        width: 100px;
        text-align: center;
      }
      button {
        padding: 0.5em 1em;
        font-size: 1em;
        margin-top: 1em;
        background-color: #0066ff;
        color: #fff;
        border: none;
        cursor: pointer;
        border-radius: 4px;
      }
    </style>
  </head>
  <body>
    <h1>ğŸŸ¦ èªè³¼ NeoX Token</h1>
    <p>æ¯æš NXC åƒ¹æ ¼ç‚º <strong>0.001 ETH</strong></p>
    <input type="number" id="quantity" value="1" min="1" />
    <br />
    <button onclick="claimToken()">ç«‹å³èªè³¼</button>
    <p id="status"></p>

    <script>
      async function claimToken() {
        try {
          const status = document.getElementById("status");
          status.innerText = "é€£æ¥éŒ¢åŒ…ä¸­...";

          // connect to wallet
          const provider = new ethers.providers.Web3Provider(window.ethereum);
          await provider.send("eth_requestAccounts", []);
          const signer = provider.getSigner();

          // Thirdweb contract
          const sdk = new thirdweb.ThirdwebSDK(signer);

          // âš ï¸ æ›¿æ›æˆä½ è‡ªå·±çš„ Token Drop åˆç´„åœ°å€ï¼ˆTestnet Sepoliaï¼‰
          const tokenDrop = await sdk.getContract("0x80ad039927cdf2341c1428b..."); // è«‹è£œå…¨ä½ çš„åˆç´„åœ°å€
          const quantity = document.getElementById("quantity").value;

          status.innerText = "èªè³¼ä¸­...";
          const tx = await tokenDrop.erc20.claim(quantity);
          await tx.wait();

          status.innerText = `âœ… èªè³¼æˆåŠŸï¼ä½ å·²ç²å¾— ${quantity} æš NXC`;
        } catch (err) {
          console.error(err);
          document.getElementById("status").innerText =
            "âŒ ç™¼ç”ŸéŒ¯èª¤ï¼š" + err.message;
        }
      }
    </script>
  </body>
</html> 
